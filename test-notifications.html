<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Notifications</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f0f2f5;
        }
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .test-button {
            padding: 12px 24px;
            margin: 10px;
            background: #1a73e8;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
        }
        .test-button:hover {
            background: #1557b0;
        }
        .console-log {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 15px;
            border-radius: 6px;
            font-family: monospace;
            font-size: 12px;
            margin-top: 20px;
            max-height: 300px;
            overflow-y: auto;
        }
        .log-item {
            margin: 3px 0;
            padding: 3px 0;
            border-bottom: 1px solid #333;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>üîî Test Notification System</h1>
        <p>Ki·ªÉm tra xem notification system c√≥ ho·∫°t ƒë·ªông kh√¥ng</p>

        <div>
            <h3>Test Elements:</h3>
            <button class="test-button" onclick="testElements()">Check DOM Elements</button>
            <button class="test-button" onclick="testTabs()">Test Tabs</button>
            <button class="test-button" onclick="testPopup()">Toggle Popup</button>
            <button class="test-button" onclick="clearLogs()">Clear Logs</button>
        </div>

        <div class="console-log" id="console-log">
            <div class="log-item">Console logs will appear here...</div>
        </div>

        <hr style="margin: 30px 0;">

        <!-- Mock Header with Notification -->
        <div style="background: white; padding: 15px; border-radius: 8px; display: flex; align-items: center; justify-content: space-between;">
            <div style="font-size: 20px; font-weight: bold; color: #1a73e8;">TFT</div>
            <div style="display: flex; gap: 15px;">
                <!-- Notification Icon -->
                <div class="notification-menu" style="position: relative;">
                    <div class="header-icon" id="notification-icon" title="Th√¥ng b√°o" style="width: 40px; height: 40px; border-radius: 50%; background: #f0f2f5; display: flex; align-items: center; justify-content: center; cursor: pointer; position: relative;">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                            <path d="M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"/>
                        </svg>
                        <span class="notification-badge" id="notification-badge" style="display: none; position: absolute; top: -5px; right: -5px; background: #ff4444; color: white; font-size: 11px; font-weight: 700; padding: 2px 6px; border-radius: 10px;">5</span>
                    </div>
                    
                    <!-- Notification Popup -->
                    <div class="notification-popup" id="notification-popup" style="display: none; position: absolute; top: calc(100% + 12px); right: 0; width: 400px; background: white; border-radius: 12px; box-shadow: 0 8px 24px rgba(0,0,0,0.15); z-index: 1000;">
                        <div class="notification-header" style="padding: 16px 20px; border-bottom: 1px solid #e4e6eb; display: flex; justify-content: space-between; align-items: center;">
                            <h3 style="margin: 0; font-size: 20px; font-weight: 700;">Th√¥ng b√°o</h3>
                            <button class="mark-all-read" id="mark-all-read-btn" style="background: transparent; border: none; color: #1a73e8; font-size: 13px; font-weight: 600; cursor: pointer; padding: 6px 12px; border-radius: 6px;">
                                ƒê√°nh d·∫•u ƒë√£ ƒë·ªçc
                            </button>
                        </div>
                        
                        <!-- Notification Filter Tabs -->
                        <div class="notification-tabs" style="display: flex; gap: 8px; padding: 12px 20px; border-bottom: 1px solid #e4e6eb;">
                            <button class="notification-tab active" data-filter="all" style="flex: 1; padding: 8px 16px; background: #e8f0fe; border: none; color: #1a73e8; font-size: 14px; font-weight: 600; cursor: pointer; border-radius: 8px;">
                                T·∫•t c·∫£
                            </button>
                            <button class="notification-tab" data-filter="unread" style="flex: 1; padding: 8px 16px; background: transparent; border: none; color: #65676b; font-size: 14px; font-weight: 600; cursor: pointer; border-radius: 8px;">
                                Ch∆∞a ƒë·ªçc
                            </button>
                        </div>
                        
                        <div class="notification-list" id="notification-list" style="padding: 20px; max-height: 400px; overflow-y: auto;">
                            <div class="notification-empty" style="text-align: center; padding: 40px 20px; color: #65676b;">
                                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                    <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                                    <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
                                </svg>
                                <p style="margin: 10px 0 0 0;">Ch∆∞a c√≥ th√¥ng b√°o n√†o</p>
                            </div>
                        </div>
                        
                        <div class="notification-footer" style="padding: 12px 20px; border-top: 1px solid #e4e6eb; text-align: center;">
                            <a href="#" class="view-all-link" id="view-all-notifications" style="color: #1a73e8; font-size: 14px; font-weight: 600; text-decoration: none;">
                                Xem t·∫•t c·∫£ th√¥ng b√°o
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const logs = [];
        
        function log(message, type = 'info') {
            const timestamp = new Date().toLocaleTimeString();
            const logMessage = `[${timestamp}] ${message}`;
            logs.push({ message: logMessage, type });
            updateConsole();
            console.log(logMessage);
        }

        function updateConsole() {
            const consoleEl = document.getElementById('console-log');
            consoleEl.innerHTML = logs.map(l => `<div class="log-item" style="color: ${getColor(l.type)}">${l.message}</div>`).join('');
            consoleEl.scrollTop = consoleEl.scrollHeight;
        }

        function getColor(type) {
            const colors = {
                info: '#4fc3f7',
                success: '#66bb6a',
                warning: '#ffa726',
                error: '#ef5350'
            };
            return colors[type] || '#d4d4d4';
        }

        function clearLogs() {
            logs.length = 0;
            updateConsole();
        }

        function testElements() {
            log('Testing DOM elements...', 'info');
            
            const elements = {
                'notification-icon': document.getElementById('notification-icon'),
                'notification-popup': document.getElementById('notification-popup'),
                'notification-badge': document.getElementById('notification-badge'),
                'notification-list': document.getElementById('notification-list'),
                'mark-all-read-btn': document.getElementById('mark-all-read-btn'),
                'notification-tabs': document.querySelectorAll('.notification-tab')
            };

            for (const [name, element] of Object.entries(elements)) {
                if (name === 'notification-tabs') {
                    log(`‚úì ${name}: ${element.length} tabs found`, element.length > 0 ? 'success' : 'error');
                } else {
                    log(`${element ? '‚úì' : '‚úó'} ${name}: ${element ? 'Found' : 'NOT FOUND'}`, element ? 'success' : 'error');
                }
            }
        }

        function testTabs() {
            log('Testing tabs...', 'info');
            const tabs = document.querySelectorAll('.notification-tab');
            
            if (tabs.length === 0) {
                log('‚úó No tabs found!', 'error');
                return;
            }

            log(`‚úì Found ${tabs.length} tabs`, 'success');
            
            tabs.forEach((tab, index) => {
                const filter = tab.getAttribute('data-filter');
                log(`  Tab ${index + 1}: filter="${filter}", text="${tab.textContent.trim()}"`, 'info');
                
                // Test click
                tab.addEventListener('click', function() {
                    log(`Tab clicked: ${filter}`, 'success');
                    
                    // Switch active state
                    tabs.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Update styles
                    tabs.forEach(t => {
                        if (t.classList.contains('active')) {
                            t.style.background = '#e8f0fe';
                            t.style.color = '#1a73e8';
                        } else {
                            t.style.background = 'transparent';
                            t.style.color = '#65676b';
                        }
                    });
                });
            });

            log('‚úì Click listeners added to all tabs', 'success');
        }

        function testPopup() {
            log('Toggling popup...', 'info');
            const popup = document.getElementById('notification-popup');
            
            if (!popup) {
                log('‚úó Popup not found!', 'error');
                return;
            }

            if (popup.style.display === 'none' || popup.style.display === '') {
                popup.style.display = 'block';
                log('‚úì Popup opened', 'success');
            } else {
                popup.style.display = 'none';
                log('‚úì Popup closed', 'success');
            }
        }

        // Auto-run tests on load
        window.addEventListener('load', function() {
            log('Page loaded', 'success');
            setTimeout(() => {
                testElements();
                testTabs();
            }, 100);
        });
    </script>
</body>
</html>
