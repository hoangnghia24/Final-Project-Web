<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TFT - Newsfeed</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sockjs-client@1.6.1/dist/sockjs.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link th:href="@{/client/css/ModernUI.css}" rel="stylesheet" />
    <link th:href="@{/client/css/ModernPost.css}" rel="stylesheet" />
    <link th:href="@{/client/css/Profile.css}" rel="stylesheet" />
    <link th:href="@{/client/css/Header.css}" rel="stylesheet" />
    <link th:href="@{/client/css/LeftSidebar.css}" rel="stylesheet" />
    <link th:href="@{/client/css/Home.css}" rel="stylesheet" />
    <link th:href="@{/client/css/Notifications.css}" rel="stylesheet" />
    <link th:href="@{/client/css/PostInteractions.css}" rel="stylesheet" />
    <link th:href="@{/client/css/RedditPost.css}" rel="stylesheet" />
    <link th:href="@{/client/css/DarkMode.css}" rel="stylesheet" />
</head>

<body>

    <script th:src="@{/client/js/TimeUtils.js}"></script>
    <script th:src="@{/client/js/Header.js}"></script>
    <script th:src="@{/client/js/LeftSidebar.js}"></script>
    <script th:src="@{/client/js/Notifications.js}"></script>
    <script th:src="@{/client/js/RedditInteractions.js}"></script>
    <script th:src="@{/client/js/PostInteractions.js}"></script>

    <!-- Include header fragment -->
    <div th:replace="~{fragments/Header :: user-header}"></div>

    <div class="home-container">

        <!-- Include left sidebar fragment -->
        <div th:replace="~{fragments/Left-sidebar :: left-sidebar}"></div>

        <main class="main-feed">
            <!-- Stories Section -->
            <div class="stories-section">
                <div class="story-card create-story">
                    <div class="create-story-icon">
                        <svg viewBox="0 0 24 24" fill="currentColor" width="24" height="24">
                            <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" />
                        </svg>
                    </div>
                    <div class="story-name">T·∫°o story</div>
                </div>
                <div class="story-card" onclick="window.location.href='/stories'">
                    <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=User1" alt="Story" class="story-image">
                    <div class="story-avatar-wrapper">
                        <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=User1" alt="Avatar"
                            class="story-avatar">
                    </div>
                    <div class="story-name">Minh Anh</div>
                </div>
                <div class="story-card" onclick="window.location.href='/stories'">
                    <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=User2" alt="Story" class="story-image">
                    <div class="story-avatar-wrapper">
                        <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=User2" alt="Avatar"
                            class="story-avatar">
                    </div>
                    <div class="story-name">Ho√†ng Long</div>
                </div>
                <div class="story-card" onclick="window.location.href='/stories'">
                    <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=User3" alt="Story" class="story-image">
                    <div class="story-avatar-wrapper">
                        <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=User3" alt="Avatar"
                            class="story-avatar">
                    </div>
                    <div class="story-name">Thu H√†</div>
                </div>
                <div class="story-card" onclick="window.location.href='/stories'">
                    <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=User4" alt="Story" class="story-image">
                    <div class="story-avatar-wrapper">
                        <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=User4" alt="Avatar"
                            class="story-avatar">
                    </div>
                    <div class="story-name">ƒê·ª©c Anh</div>
                </div>
            </div>

            <!-- Create Post Box -->
            <div class="create-post-box">
                <div class="create-post-top">
                    <img src="https://api.dicebear.com/9.x/avataaars/svg?seed=User" alt="Avatar"
                        class="create-post-avatar">
                    <input type="text" class="create-post-input" placeholder="B·∫°n ƒëang nghƒ© g√¨?" readonly
                        onclick="alert('Ch·ª©c nƒÉng t·∫°o b√†i vi·∫øt')">
                </div>
                <div class="create-post-actions">
                    <button class="create-action-btn">
                        <svg viewBox="0 0 24 24" fill="#45bd62" width="24" height="24">
                            <path
                                d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-5.04-6.71l-2.75 3.54-1.96-2.36L6.5 17h11l-3.54-4.71z" />
                        </svg>
                        <span>·∫¢nh/Video</span>
                    </button>
                    <button class="create-action-btn">
                        <svg viewBox="0 0 24 24" fill="#f7b928" width="24" height="24">
                            <circle cx="15.5" cy="9.5" r="1.5" />
                            <circle cx="8.5" cy="9.5" r="1.5" />
                            <path
                                d="M12 14c-2.33 0-4.32 1.45-5.12 3.5h1.67c.69-1.19 1.97-2 3.45-2s2.75.81 3.45 2h1.67c-.8-2.05-2.79-3.5-5.12-3.5zm-.01-12C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z" />
                        </svg>
                        <span>C·∫£m x√∫c</span>
                    </button>
                    <button class="create-action-btn">
                        <svg viewBox="0 0 24 24" fill="#f5533d" width="24" height="24">
                            <path
                                d="M17.34 5.46a1.2 1.2 0 1 0 1.73 1.66l.03-.03c.9-.9 2.18-1.21 3.34-1.04.62.09 1.14.41 1.55.86.41.45.64 1.01.64 1.59 0 .97-.39 1.86-1.02 2.53l-9.01 9.02c-.41.41-.96.61-1.51.61s-1.1-.2-1.51-.61L2.46 11.92c-1.31-1.31-1.31-3.44 0-4.75.63-.63 1.46-.98 2.34-.98.88 0 1.71.35 2.34.98l2.83 2.83 6.03-6.03a3.56 3.56 0 0 1 1.34-.51z" />
                        </svg>
                        <span>S·ª± ki·ªán</span>
                    </button>
                </div>
            </div>

            <!-- Filter Tabs -->
            <div class="filter-tabs-unified">
                <button class="filter-tab-btn active" data-filter="all">
                    <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                        <path
                            d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" />
                    </svg>
                    T·∫•t c·∫£
                </button>
                <button class="filter-tab-btn" data-filter="friends">
                    <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                        <path
                            d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z" />
                    </svg>
                    B·∫°n b√®
                </button>
                <button class="filter-tab-btn" data-filter="popular">
                    <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                        <path d="M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z" />
                    </svg>
                    Ph·ªï bi·∫øn
                </button>
                <button class="filter-tab-btn" data-filter="new">
                    <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                        <path
                            d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" />
                    </svg>
                    M·ªõi nh·∫•t
                </button>
            </div>

            <!-- Social Media Post Card Example 1 -->
            <div class="reddit-post-card" data-post-id="1">
                <!-- Post Header with User Info -->
                <div class="post-header">
                    <img src="https://api.dicebear.com/9.x/avataaars/svg?seed=Admin" alt="Admin"
                        class="post-user-avatar">
                    <div class="post-user-info">
                        <div class="post-user-name-row">
                            <a href="#" class="post-user-name">Nguy·ªÖn VƒÉn Admin</a>
                            <button class="post-follow-btn">‚Ä¢ Theo d√µi</button>
                        </div>
                        <div class="post-time-privacy">
                            <span class="post-time">2 gi·ªù tr∆∞·ªõc</span>
                            <span>‚Ä¢</span>
                            <svg class="post-privacy-icon" viewBox="0 0 24 24" fill="currentColor">
                                <path
                                    d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z" />
                            </svg>
                            <span>C√¥ng khai</span>
                        </div>
                    </div>
                    <div class="post-header-actions">
                        <button class="post-menu-btn" onclick="togglePostMenu(event, 1)">
                            <svg viewBox="0 0 24 24" fill="currentColor">
                                <circle cx="12" cy="5" r="2" />
                                <circle cx="12" cy="12" r="2" />
                                <circle cx="12" cy="19" r="2" />
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Post Content -->
                <div class="post-main-content">
                    <span class="post-category-tag">üéâ C√¥ng ngh·ªá</span>
                    <div class="post-title-text">Ch√†o m·ª´ng b·∫°n ƒë·∫øn v·ªõi h·ªá th·ªëng m·∫°ng x√£ h·ªôi m·ªõi!</div>
                    <div class="post-body-text">
                        Th·ª≠ c√°c t√≠nh nƒÉng m·ªõi: Nh·∫•n gi·ªØ n√∫t th√≠ch ƒë·ªÉ xem emoji reactions, b√¨nh lu·∫≠n, chia s·∫ª v√† l∆∞u b√†i
                        vi·∫øt. Thi·∫øt k·∫ø hi·ªán ƒë·∫°i theo phong c√°ch c√°c m·∫°ng x√£ h·ªôi ph·ªï bi·∫øn!
                    </div>
                </div>

                <img src="https://images.unsplash.com/photo-1516116216624-53e697fedbea?w=800" alt="Post image"
                    class="post-full-image">

                <!-- Post Stats -->
                <div class="post-stats-bar">
                    <div class="post-stats-left">
                        <div class="post-reactions-preview">
                            <span class="reaction-icon-small">‚ù§Ô∏è</span>
                            <span class="reaction-icon-small">üëç</span>
                            <span class="reaction-icon-small">üòÇ</span>
                        </div>
                        <span class="post-likes-count">B·∫°n v√† 141 ng∆∞·ªùi kh√°c</span>
                    </div>
                    <div class="post-stats-right">
                        <span class="post-stat-item">42 b√¨nh lu·∫≠n</span>
                        <span class="post-stat-item">28 chia s·∫ª</span>
                    </div>
                </div>

                <!-- Post Actions -->
                <div class="post-action-buttons">
                    <button class="action-btn post-like-btn" data-post-id="1" onmouseenter="showReactions(event)"
                        onmouseleave="hideReactions(event)">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path
                                d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z">
                            </path>
                        </svg>
                        <span>Th√≠ch</span>
                        <div class="reactions-popup">
                            <span class="reaction-emoji" onclick="selectReaction(event, 1, '‚ù§Ô∏è')">‚ù§Ô∏è</span>
                            <span class="reaction-emoji" onclick="selectReaction(event, 1, 'üëç')">üëç</span>
                            <span class="reaction-emoji" onclick="selectReaction(event, 1, 'üòÇ')">üòÇ</span>
                            <span class="reaction-emoji" onclick="selectReaction(event, 1, 'üòÆ')">üòÆ</span>
                            <span class="reaction-emoji" onclick="selectReaction(event, 1, 'üò¢')">üò¢</span>
                            <span class="reaction-emoji" onclick="selectReaction(event, 1, 'üò†')">üò†</span>
                        </div>
                    </button>
                    <button class="action-btn">
                        <svg viewBox="0 0 24 24">
                            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                        </svg>
                        <span>B√¨nh lu·∫≠n</span>
                    </button>
                    <button class="action-btn">
                        <svg viewBox="0 0 24 24">
                            <path d="M4 12v8a2 2 0 002 2h12a2 2 0 002-2v-8M16 6l-4-4-4 4M12 2v13" />
                        </svg>
                        <span>Chia s·∫ª</span>
                    </button>
                </div>
            </div>

            <!-- Social Media Post Card Example 2 -->
            <div class="reddit-post-card" data-post-id="2">
                <div class="post-header">
                    <img src="https://api.dicebear.com/9.x/avataaars/svg?seed=User123" alt="User"
                        class="post-user-avatar">
                    <div class="post-user-info">
                        <div class="post-user-name-row">
                            <a href="#" class="post-user-name">Tr·∫ßn Th·ªã H∆∞∆°ng</a>
                            <button class="post-follow-btn following">‚Ä¢ ƒêang theo d√µi</button>
                        </div>
                        <div class="post-time-privacy">
                            <span class="post-time">5 gi·ªù tr∆∞·ªõc</span>
                            <span>‚Ä¢</span>
                            <svg class="post-privacy-icon" viewBox="0 0 24 24" fill="currentColor">
                                <path
                                    d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z" />
                            </svg>
                            <span>B·∫°n b√®</span>
                        </div>
                    </div>
                    <div class="post-header-actions">
                        <button class="post-menu-btn" onclick="togglePostMenu(event, 2)">
                            <svg viewBox="0 0 24 24" fill="currentColor">
                                <circle cx="12" cy="5" r="2" />
                                <circle cx="12" cy="12" r="2" />
                                <circle cx="12" cy="19" r="2" />
                            </svg>
                        </button>
                    </div>
                </div>

                <div class="post-main-content">
                    <span class="post-category-tag">üí° H·ªèi ƒë√°p</span>
                    <div class="post-title-text">Tips h·ªçc l·∫≠p tr√¨nh hi·ªáu qu·∫£ cho ng∆∞·ªùi m·ªõi b·∫Øt ƒë·∫ßu</div>
                    <div class="post-body-text">
                        Sau 2 nƒÉm l√†m developer, t√¥i mu·ªën chia s·∫ª m·ªôt s·ªë tips gi√∫p b·∫°n h·ªçc code hi·ªáu qu·∫£ h∆°n. ƒê·∫ßu ti√™n,
                        h√£y l√†m d·ª± √°n th·ª±c t·∫ø thay v√¨ ch·ªâ xem tutorials. Th·ª© hai, ƒë·ªçc code c·ªßa ng∆∞·ªùi kh√°c v√† tham gia
                        open source. Th·ª© ba, ƒë·ª´ng ng·∫°i h·ªèi v√† chia s·∫ª ki·∫øn th·ª©c v·ªõi c·ªông ƒë·ªìng!
                    </div>
                </div>

                <div class="post-stats-bar">
                    <div class="post-stats-left">
                        <div class="post-reactions-preview">
                            <span class="reaction-icon-small">üëç</span>
                            <span class="reaction-icon-small">‚ù§Ô∏è</span>
                        </div>
                        <span class="post-likes-count">89 l∆∞·ª£t th√≠ch</span>
                    </div>
                    <div class="post-stats-right">
                        <span class="post-stat-item">28 b√¨nh lu·∫≠n</span>
                        <span class="post-stat-item">12 chia s·∫ª</span>
                    </div>
                </div>

                <div class="post-action-buttons">
                    <button class="action-btn post-like-btn" data-post-id="2" onmouseenter="showReactions(event)"
                        onmouseleave="hideReactions(event)">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path
                                d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z">
                            </path>
                        </svg>
                        <span>Th√≠ch</span>
                        <div class="reactions-popup">
                            <span class="reaction-emoji" onclick="selectReaction(event, 2, '‚ù§Ô∏è')">‚ù§Ô∏è</span>
                            <span class="reaction-emoji" onclick="selectReaction(event, 2, 'üëç')">üëç</span>
                            <span class="reaction-emoji" onclick="selectReaction(event, 2, 'üòÇ')">üòÇ</span>
                            <span class="reaction-emoji" onclick="selectReaction(event, 2, 'üòÆ')">üòÆ</span>
                            <span class="reaction-emoji" onclick="selectReaction(event, 2, 'üò¢')">üò¢</span>
                            <span class="reaction-emoji" onclick="selectReaction(event, 2, 'üò†')">üò†</span>
                        </div>
                    </button>
                    <button class="action-btn">
                        <svg viewBox="0 0 24 24">
                            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                        </svg>
                        <span>B√¨nh lu·∫≠n</span>
                    </button>
                    <button class="action-btn">
                        <svg viewBox="0 0 24 24">
                            <path d="M4 12v8a2 2 0 002 2h12a2 2 0 002-2v-8M16 6l-4-4-4 4M12 2v13" />
                        </svg>
                        <span>Chia s·∫ª</span>
                    </button>
                </div>
            </div>

            <!-- Social Media Post Card Example 3 -->
            <div class="reddit-post-card" data-post-id="3">
                <div class="post-header">
                    <img src="https://api.dicebear.com/9.x/avataaars/svg?seed=DevMaster" alt="Dev"
                        class="post-user-avatar">
                    <div class="post-user-info">
                        <div class="post-user-name-row">
                            <a href="#" class="post-user-name">L√™ Minh ƒê·ª©c</a>
                        </div>
                        <div class="post-time-privacy">
                            <span class="post-time">1 ng√†y tr∆∞·ªõc</span>
                            <span>‚Ä¢</span>
                            <svg class="post-privacy-icon" viewBox="0 0 24 24" fill="currentColor">
                                <path
                                    d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z" />
                            </svg>
                            <span>C√¥ng khai</span>
                        </div>
                    </div>
                    <div class="post-header-actions">
                        <button class="post-menu-btn" onclick="togglePostMenu(event, 3)">
                            <svg viewBox="0 0 24 24" fill="currentColor">
                                <circle cx="12" cy="5" r="2" />
                                <circle cx="12" cy="12" r="2" />
                                <circle cx="12" cy="19" r="2" />
                            </svg>
                        </button>
                    </div>
                </div>

                <div class="post-main-content">
                    <span class="post-category-tag">üöÄ Chia s·∫ª</span>
                    <div class="post-title-text">T√¥i v·ª´a ho√†n th√†nh d·ª± √°n m·∫°ng x√£ h·ªôi ƒë·∫ßu ti√™n!</div>
                    <div class="post-body-text">
                        Sau 3 th√°ng c√†y cu·ªëc, cu·ªëi c√πng t√¥i c≈©ng ho√†n th√†nh d·ª± √°n TFT - m·ªôt m·∫°ng x√£ h·ªôi v·ªõi ƒë·∫ßy ƒë·ªß t√≠nh
                        nƒÉng: ƒëƒÉng b√†i, k·∫øt b·∫°n, chat, notifications, v.v. R·∫•t vui ƒë∆∞·ª£c chia s·∫ª v·ªõi c·ªông ƒë·ªìng!
                    </div>
                </div>

                <img src="https://images.unsplash.com/photo-1498050108023-c5249f4df085?w=800" alt="Project screenshot"
                    class="post-full-image">

                <div class="post-stats-bar">
                    <div class="post-stats-left">
                        <div class="post-reactions-preview">
                            <span class="reaction-icon-small">üëç</span>
                            <span class="reaction-icon-small">‚ù§Ô∏è</span>
                            <span class="reaction-icon-small">üòÆ</span>
                        </div>
                        <span class="post-likes-count">B·∫°n, Mai v√† 254 ng∆∞·ªùi kh√°c</span>
                    </div>
                    <div class="post-stats-right">
                        <span class="post-stat-item">67 b√¨nh lu·∫≠n</span>
                        <span class="post-stat-item">45 chia s·∫ª</span>
                    </div>
                </div>

                <div class="post-action-buttons">
                    <button class="action-btn post-like-btn liked" data-post-id="3" onmouseenter="showReactions(event)"
                        onmouseleave="hideReactions(event)">
                        <svg viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2">
                            <path
                                d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z">
                            </path>
                        </svg>
                        <span>‚ù§Ô∏è Y√™u th√≠ch</span>
                        <div class="reactions-popup">
                            <span class="reaction-emoji" onclick="selectReaction(event, 3, '‚ù§Ô∏è')">‚ù§Ô∏è</span>
                            <span class="reaction-emoji" onclick="selectReaction(event, 3, 'üëç')">üëç</span>
                            <span class="reaction-emoji" onclick="selectReaction(event, 3, 'üòÇ')">üòÇ</span>
                            <span class="reaction-emoji" onclick="selectReaction(event, 3, 'üòÆ')">üòÆ</span>
                            <span class="reaction-emoji" onclick="selectReaction(event, 3, 'üò¢')">üò¢</span>
                            <span class="reaction-emoji" onclick="selectReaction(event, 3, 'üò†')">üò†</span>
                        </div>
                    </button>
                    <button class="action-btn">
                        <svg viewBox="0 0 24 24">
                            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                        </svg>
                        <span>B√¨nh lu·∫≠n</span>
                    </button>
                    <button class="action-btn">
                        <svg viewBox="0 0 24 24">
                            <path d="M4 12v8a2 2 0 002 2h12a2 2 0 002-2v-8M16 6l-4-4-4 4M12 2v13" />
                        </svg>
                        <span>Chia s·∫ª</span>
                    </button>
                </div>
            </div>

            <!-- Load More -->
            <div class="load-more-section">
                <button class="load-more-btn">Xem th√™m b√†i vi·∫øt</button>
            </div>
        </main>

        <!-- Right Sidebar -->
        <div class="right-sidebar">
            <!-- Trending Topics Widget -->
            <div class="widget-card">
                <div class="widget-header">
                    <h3 class="widget-title-text">Xu h∆∞·ªõng cho b·∫°n</h3>
                    <a href="#" class="widget-more">Xem t·∫•t c·∫£</a>
                </div>
                <div class="trending-item">
                    <span class="trending-rank">1</span>
                    <div>
                        <div class="trending-topic">#AITrends2024</div>
                        <div class="trending-stats">45.2K b√†i vi·∫øt ‚Ä¢ ƒêang th·ªãnh h√†nh</div>
                    </div>
                </div>
                <div class="trending-item">
                    <span class="trending-rank">2</span>
                    <div>
                        <div class="trending-topic">#WebDevelopment</div>
                        <div class="trending-stats">32.8K b√†i vi·∫øt ‚Ä¢ C√¥ng ngh·ªá</div>
                    </div>
                </div>
                <div class="trending-item">
                    <span class="trending-rank">3</span>
                    <div>
                        <div class="trending-topic">#HealthyLifestyle</div>
                        <div class="trending-stats">28.5K b√†i vi·∫øt ‚Ä¢ S·ª©c kh·ªèe</div>
                    </div>
                </div>
                <div class="trending-item">
                    <span class="trending-rank">4</span>
                    <div>
                        <div class="trending-topic">#TravelVietnam</div>
                        <div class="trending-stats">21.3K b√†i vi·∫øt ‚Ä¢ Du l·ªãch</div>
                    </div>
                </div>
                <div class="trending-item">
                    <span class="trending-rank">5</span>
                    <div>
                        <div class="trending-topic">#FoodieLife</div>
                        <div class="trending-stats">18.7K b√†i vi·∫øt ‚Ä¢ ·∫®m th·ª±c</div>
                    </div>
                </div>
            </div>

            <!-- Suggested Users Widget -->
            <div class="widget-card">
                <div class="widget-header">
                    <h3 class="widget-title-text">G·ª£i √Ω k·∫øt b·∫°n</h3>
                    <a href="#" class="widget-more">Xem t·∫•t c·∫£</a>
                </div>
                <div class="suggested-user">
                    <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Sarah" alt="Avatar"
                        class="suggested-avatar">
                    <div class="suggested-info">
                        <div class="suggested-name">
                            Sarah Johnson
                            <svg viewBox="0 0 24 24">
                                <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z" />
                            </svg>
                        </div>
                        <div class="suggested-mutual">12 b·∫°n chung</div>
                    </div>
                    <button class="suggested-follow-btn">Theo d√µi</button>
                </div>
                <div class="suggested-user">
                    <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Michael" alt="Avatar"
                        class="suggested-avatar">
                    <div class="suggested-info">
                        <div class="suggested-name">Michael Chen</div>
                        <div class="suggested-mutual">8 b·∫°n chung</div>
                    </div>
                    <button class="suggested-follow-btn">Theo d√µi</button>
                </div>
                <div class="suggested-user">
                    <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Emma" alt="Avatar"
                        class="suggested-avatar">
                    <div class="suggested-info">
                        <div class="suggested-name">Emma Wilson</div>
                        <div class="suggested-mutual">5 b·∫°n chung</div>
                    </div>
                    <button class="suggested-follow-btn">Theo d√µi</button>
                </div>
            </div>

            <!-- Events Widget -->
            <div class="widget-card">
                <div class="widget-header">
                    <h3 class="widget-title-text">S·ª± ki·ªán s·∫Øp di·ªÖn ra</h3>
                    <a href="#" class="widget-more">Xem t·∫•t c·∫£</a>
                </div>
                <div class="event-item">
                    <div class="event-date">
                        <div class="event-month">THG 6</div>
                        <div class="event-day">15</div>
                    </div>
                    <div class="event-details">
                        <div class="event-title">Tech Conference 2024</div>
                        <div class="event-meta">10:00 AM ‚Ä¢ Online ‚Ä¢ 234 quan t√¢m</div>
                    </div>
                </div>
                <div class="event-item">
                    <div class="event-date">
                        <div class="event-month">THG 6</div>
                        <div class="event-day">20</div>
                    </div>
                    <div class="event-details">
                        <div class="event-title">Community Meetup HN</div>
                        <div class="event-meta">6:00 PM ‚Ä¢ H√† N·ªôi ‚Ä¢ 89 quan t√¢m</div>
                    </div>
                </div>
                <div class="event-item">
                    <div class="event-date">
                        <div class="event-month">THG 6</div>
                        <div class="event-day">25</div>
                    </div>
                    <div class="event-details">
                        <div class="event-title">Startup Workshop</div>
                        <div class="event-meta">2:00 PM ‚Ä¢ TP.HCM ‚Ä¢ 156 quan t√¢m</div>
                    </div>
                </div>
            </div>

            <!-- Online Friends Widget -->
            <div class="widget-card">
                <div class="widget-header">
                    <h3 class="widget-title-text">B·∫°n b√® ƒëang online</h3>
                </div>
                <div class="online-friend">
                    <div class="online-avatar-wrapper">
                        <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Alex" alt="Avatar"
                            class="online-avatar">
                        <span class="online-indicator"></span>
                    </div>
                    <div class="online-name">Alex Thompson</div>
                </div>
                <div class="online-friend">
                    <div class="online-avatar-wrapper">
                        <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Lisa" alt="Avatar"
                            class="online-avatar">
                        <span class="online-indicator"></span>
                    </div>
                    <div class="online-name">Lisa Park</div>
                </div>
                <div class="online-friend">
                    <div class="online-avatar-wrapper">
                        <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=David" alt="Avatar"
                            class="online-avatar">
                        <span class="online-indicator"></span>
                    </div>
                    <div class="online-name">David Martinez</div>
                </div>
                <div class="online-friend">
                    <div class="online-avatar-wrapper">
                        <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Sophie" alt="Avatar"
                            class="online-avatar">
                        <span class="online-indicator"></span>
                    </div>
                    <div class="online-name">Sophie Anderson</div>
                </div>
            </div>

            <!-- Sponsored Content Widget -->
            <div class="widget-card sponsored-card">
                <div class="sponsored-label">ƒê∆∞·ª£c t√†i tr·ª£</div>
                <img src="https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=400" alt="Sponsored"
                    class="sponsored-image">
                <div class="sponsored-title">Kh√°m ph√° kh√≥a h·ªçc l·∫≠p tr√¨nh mi·ªÖn ph√≠</div>
                <div class="sponsored-description">H·ªçc t·ª´ c∆° b·∫£n ƒë·∫øn n√¢ng cao v·ªõi c√°c chuy√™n gia h√†ng ƒë·∫ßu</div>
                <a href="#" class="sponsored-link">edutech.vn</a>
            </div>
        </div><!-- End right-sidebar -->

    </div>

    <script>
        // Mock localStorage for demo
        if (!localStorage.getItem('currentUserId')) {
            localStorage.setItem('currentUserId', '1');
            localStorage.setItem('currentUsername', 'Demo User');
            localStorage.setItem('currentUserAvatar', 'https://api.dicebear.com/9.x/avataaars/svg?seed=User');
        }

        // Filter tabs functionality
        document.querySelectorAll('.filter-tab-btn').forEach(tab => {
            tab.addEventListener('click', function () {
                document.querySelectorAll('.filter-tab-btn').forEach(t => t.classList.remove('active'));
                this.classList.add('active');
                console.log('Filter changed to:', this.textContent);
            });
        });

        // Reactions popup
        let reactionTimer;
        function showReactions(event) {
            const btn = event.currentTarget;
            const popup = btn.querySelector('.reactions-popup');
            if (popup) {
                clearTimeout(reactionTimer);
                reactionTimer = setTimeout(() => {
                    popup.classList.add('active');
                }, 500);
            }
        }

        function hideReactions(event) {
            clearTimeout(reactionTimer);
            const btn = event.currentTarget;
            const popup = btn.querySelector('.reactions-popup');
            if (popup) {
                setTimeout(() => {
                    popup.classList.remove('active');
                }, 200);
            }
        }

        function selectReaction(event, postId, emoji) {
            event.stopPropagation();
            const btn = event.target.closest('.post-like-btn');
            const span = btn.querySelector('span');

            btn.classList.add('liked');
            span.textContent = emoji + ' ' + getReactionName(emoji);

            const popup = btn.querySelector('.reactions-popup');
            if (popup) popup.classList.remove('active');

            console.log('Reacted to post', postId, 'with', emoji);
        }

        function getReactionName(emoji) {
            const names = {
                '‚ù§Ô∏è': 'Y√™u th√≠ch',
                'üëç': 'Th√≠ch',
                'üòÇ': 'Haha',
                'üòÆ': 'Wow',
                'üò¢': 'Bu·ªìn',
                'üò†': 'Ph·∫´n n·ªô'
            };
            return names[emoji] || 'Th√≠ch';
        }

        // Post menu
        function togglePostMenu(event, postId) {
            event.stopPropagation();
            const btn = event.currentTarget;

            // Remove existing menus
            document.querySelectorAll('.post-menu-dropdown').forEach(menu => menu.remove());

            // Create menu
            const menu = document.createElement('div');
            menu.className = 'post-menu-dropdown active';
            menu.innerHTML = `
                <div class="menu-item" onclick="savePost(${postId})">
                    <svg viewBox="0 0 24 24"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"/></svg>
                    L∆∞u b√†i vi·∫øt
                </div>
                <div class="menu-item" onclick="hidePost(${postId})">
                    <svg viewBox="0 0 24 24"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
                    ·∫®n b√†i vi·∫øt
                </div>
                <div class="menu-item" onclick="unfollowUser(${postId})">
                    <svg viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="8.5" cy="7" r="4"/><line x1="23" y1="11" x2="17" y2="11"/></svg>
                    B·ªè theo d√µi
                </div>
                <div class="menu-divider"></div>
                <div class="menu-item danger" onclick="reportPost(${postId})">
                    <svg viewBox="0 0 24 24"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
                    B√°o c√°o b√†i vi·∫øt
                </div>
            `;

            btn.parentElement.style.position = 'relative';
            btn.parentElement.appendChild(menu);

            // Close on outside click
            setTimeout(() => {
                document.addEventListener('click', function closeMenu(e) {
                    if (!menu.contains(e.target)) {
                        menu.remove();
                        document.removeEventListener('click', closeMenu);
                    }
                });
            }, 10);
        }

        function savePost(postId) {
            console.log('Saved post', postId);
            alert('ƒê√£ l∆∞u b√†i vi·∫øt!');
        }

        function hidePost(postId) {
            console.log('Hide post', postId);
            const card = document.querySelector(`[data-post-id="${postId}"]`);
            if (card) card.style.display = 'none';
        }

        function unfollowUser(postId) {
            console.log('Unfollow user from post', postId);
            alert('ƒê√£ b·ªè theo d√µi ng∆∞·ªùi d√πng');
        }

        function reportPost(postId) {
            console.log('Report post', postId);
            alert('C·∫£m ∆°n b·∫°n ƒë√£ b√°o c√°o. Ch√∫ng t√¥i s·∫Ω xem x√©t.');
        }
    </script>
</body>

</html>